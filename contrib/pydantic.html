<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="ie=edge" http-equiv="x-ua-compatible"/>
  <meta content="Copy to clipboard" name="lang:clipboard.copy"/>
  <meta content="Copied to clipboard" name="lang:clipboard.copied"/>
  <meta content="en" name="lang:search.language"/>
  <meta content="True" name="lang:search.pipeline.stopwords"/>
  <meta content="True" name="lang:search.pipeline.trimmer"/>
  <meta content="No matching documents" name="lang:search.result.none"/>
  <meta content="1 matching document" name="lang:search.result.one"/>
  <meta content="# matching documents" name="lang:search.result.other"/>
  <meta content="[\s\-]+" name="lang:search.tokenizer"/>
  <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&amp;display=fallback" rel="stylesheet"/>
  <style>
   body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
  </style>
  <link href="../_static/stylesheets/application.css" rel="stylesheet"/>
  <link href="../_static/stylesheets/application-palette.css" rel="stylesheet"/>
  <link href="../_static/stylesheets/application-fixes.css" rel="stylesheet"/>
  <link href="../_static/fonts/material-icons.css" rel="stylesheet"/>
  <meta content="#3f51b5" name="theme-color"/>
  <script src="../_static/javascripts/modernizr.js">
  </script>
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MJ7RHW2FRB">
  </script>
  <script>
   window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-MJ7RHW2FRB');
  </script>
  <title>
   Pydantic serialisation — Tortoise ORM v0.17.5 Documentation
  </title>
  <link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/material.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/copybutton.css" rel="stylesheet" type="text/css"/>
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js">
  </script>
  <script src="../_static/jquery.js">
  </script>
  <script src="../_static/underscore.js">
  </script>
  <script src="../_static/doctools.js">
  </script>
  <script src="../_static/clipboard.min.js">
  </script>
  <script src="../_static/copybutton.js">
  </script>
  <link href="../_static/tortoise.png" rel="shortcut icon"/>
  <link href="../genindex.html" rel="index" title="Index"/>
  <link href="../search.html" rel="search" title="Search"/>
  <link href="unittest.html" rel="next" title="UnitTest support"/>
  <link href="linters.html" rel="prev" title="Linters"/>
 </head>
 <body data-md-color-accent="light-green" data-md-color-primary="green" dir="ltr">
  <svg class="md-svg">
   <defs data-children-count="0">
    <svg height="448" id="__github" viewbox="0 0 416 448" width="416" xmlns="http://www.w3.org/2000/svg">
     <path d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" fill="currentColor">
     </path>
    </svg>
   </defs>
  </svg>
  <input class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
  <input class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
  <label class="md-overlay" data-md-component="overlay" for="__drawer">
  </label>
  <a class="md-skip" href="#contrib/pydantic" tabindex="1">
   Skip to content
  </a>
  <header class="md-header" data-md-component="header">
   <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
     <div class="md-flex__cell md-flex__cell--shrink">
      <a class="md-header-nav__button md-logo" href="../toc.html" title="Tortoise ORM v0.17.5 Documentation">
       <img alt="Tortoise ORM 0.17.5 Documentation logo" height="26" src="../_static/tortoise.png"/>
      </a>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer">
      </label>
     </div>
     <div class="md-flex__cell md-flex__cell--stretch">
      <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
       <span class="md-header-nav__topic">
        Tortoise ORM
       </span>
       <span class="md-header-nav__topic">
        Pydantic serialisation
       </span>
      </div>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <label class="md-icon md-icon--search md-header-nav__button" for="__search">
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
       <label class="md-search__overlay" for="__search">
       </label>
       <div class="md-search__inner" role="search">
        <form action="../search.html" class="md-search__form" method="get" name="search">
         <input autocapitalize="off" autocomplete="off" class="md-search__input" data-md-component="query" data-md-state="active" name="q" placeholder="Search" spellcheck="false" type="text"/>
         <label class="md-icon md-search__icon" for="__search">
         </label>
         <button class="md-icon md-search__icon" data-md-component="reset" tabindex="-1" type="reset">
          
         </button>
        </form>
        <div class="md-search__output">
         <div class="md-search__scrollwrap" data-md-scrollfix="">
          <div class="md-search-result" data-md-component="result">
           <div class="md-search-result__meta">
            Type to start searching
           </div>
           <ol class="md-search-result__list">
           </ol>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <div class="md-header-nav__source">
       <a class="md-source" data-md-source="github" href="https://github.com/tortoise/tortoise-orm" title="Go to repository">
        <div class="md-source__icon">
         <svg height="28" viewbox="0 0 24 24" width="28" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <use height="24" width="24" xlink:href="#__github">
          </use>
         </svg>
        </div>
        <div class="md-source__repository">
         tortoise-orm
        </div>
       </a>
      </div>
     </div>
     <script src="../_static/javascripts/version_dropdown.js">
     </script>
     <script>
      var json_loc = "../"versions.json"",
        target_loc = "../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
     </script>
    </div>
   </nav>
  </header>
  <div class="md-container">
   <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
     <ul class="md-tabs__list">
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="../contrib.html">
        Contrib
       </a>
      </li>
     </ul>
    </div>
   </nav>
   <main class="md-main">
    <div class="md-main__inner md-grid" data-md-component="container">
     <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav class="md-nav md-nav--primary" data-md-level="0">
         <label class="md-nav__title md-nav__title--site" for="__drawer">
          <a class="md-nav__button md-logo" href="../toc.html" title="Tortoise ORM v0.17.5 Documentation">
           <img alt=" logo" height="48" src="../_static/tortoise.png" width="48"/>
          </a>
          <a href="../toc.html" title="Tortoise ORM v0.17.5 Documentation">
           Tortoise ORM
          </a>
         </label>
         <div class="md-nav__source">
          <a class="md-source" data-md-source="github" href="https://github.com/tortoise/tortoise-orm" title="Go to repository">
           <div class="md-source__icon">
            <svg height="28" viewbox="0 0 24 24" width="28" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
             <use height="24" width="24" xlink:href="#__github">
             </use>
            </svg>
           </div>
           <div class="md-source__repository">
            tortoise-orm
           </div>
          </a>
         </div>
         <ul class="md-nav__list">
          <li class="md-nav__item">
           <a class="md-nav__link" href="../index.html">
            Tortoise ORM
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../getting_started.html">
            Getting started
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../reference.html">
            Reference
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../examples.html">
            Examples
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../contrib.html">
            Contrib
           </a>
           <ul class="md-nav__list">
            <li class="md-nav__item">
             <a class="md-nav__link" href="linters.html">
              Linters
             </a>
            </li>
            <li class="md-nav__item">
             <input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
             <label class="md-nav__link md-nav__link--active" for="__toc">
              Pydantic serialisation
             </label>
             <a class="md-nav__link md-nav__link--active" href="#">
              Pydantic serialisation
             </a>
             <nav class="md-nav md-nav--secondary">
              <label class="md-nav__title" for="__toc">
               Contents
              </label>
              <ul class="md-nav__list" data-md-scrollfix="">
               <li class="md-nav__item">
                <a class="md-nav__link" href="#contrib-pydantic--page-root">
                 Pydantic serialisation
                </a>
                <nav class="md-nav">
                 <ul class="md-nav__list">
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#tutorial">
                    Tutorial
                   </a>
                   <nav class="md-nav">
                    <ul class="md-nav__list">
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#basic-usage">
                       1: Basic usage
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#querysets-lists">
                       2: Querysets &amp; Lists
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#relations-early-init">
                       3: Relations &amp; Early-init
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#pydanticmeta-callables">
                       4: PydanticMeta &amp; Callables
                      </a>
                     </li>
                    </ul>
                   </nav>
                  </li>
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#module-tortoise.contrib.pydantic.creator">
                    Creators
                   </a>
                  </li>
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#pydanticmeta">
                    PydanticMeta
                   </a>
                  </li>
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#module-tortoise.contrib.pydantic.base">
                    Model classes
                   </a>
                  </li>
                 </ul>
                </nav>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__extra_link" href="../_sources/contrib/pydantic.rst.txt">
                 Show Source
                </a>
               </li>
              </ul>
             </nav>
             <ul class="md-nav__list">
              <li class="md-nav__item">
               <a class="md-nav__link" href="#tutorial">
                Tutorial
               </a>
               <ul class="md-nav__list">
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#basic-usage">
                  1: Basic usage
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#querysets-lists">
                  2: Querysets &amp; Lists
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#relations-early-init">
                  3: Relations &amp; Early-init
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#pydanticmeta-callables">
                  4: PydanticMeta &amp; Callables
                 </a>
                </li>
               </ul>
              </li>
              <li class="md-nav__item">
               <a class="md-nav__link" href="#module-tortoise.contrib.pydantic.creator">
                Creators
               </a>
              </li>
              <li class="md-nav__item">
               <a class="md-nav__link" href="#pydanticmeta">
                PydanticMeta
               </a>
              </li>
              <li class="md-nav__item">
               <a class="md-nav__link" href="#module-tortoise.contrib.pydantic.base">
                Model classes
               </a>
              </li>
             </ul>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="unittest.html">
              UnitTest support
             </a>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="fastapi.html">
              Tortoise-ORM FastAPI integration
             </a>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="quart.html">
              Tortoise-ORM Quart integration
             </a>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="sanic.html">
              Tortoise-ORM Sanic integration
             </a>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="starlette.html">
              Tortoise-ORM Starlette integration
             </a>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="aiohttp.html">
              Tortoise-ORM aiohttp integration
             </a>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="mysql.html">
              MySQL
             </a>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="postgres.html">
              Postgres
             </a>
            </li>
           </ul>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../CHANGELOG.html">
            Changelog
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../roadmap.html">
            Roadmap
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../CONTRIBUTING.html">
            Contribution Guide
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../CONTRIBUTORS.html">
            Thanks
           </a>
          </li>
         </ul>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav class="md-nav md-nav--secondary">
         <label class="md-nav__title" for="__toc">
          Contents
         </label>
         <ul class="md-nav__list" data-md-scrollfix="">
          <li class="md-nav__item">
           <a class="md-nav__link" href="#contrib-pydantic--page-root">
            Pydantic serialisation
           </a>
           <nav class="md-nav">
            <ul class="md-nav__list">
             <li class="md-nav__item">
              <a class="md-nav__link" href="#tutorial">
               Tutorial
              </a>
              <nav class="md-nav">
               <ul class="md-nav__list">
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#basic-usage">
                  1: Basic usage
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#querysets-lists">
                  2: Querysets &amp; Lists
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#relations-early-init">
                  3: Relations &amp; Early-init
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#pydanticmeta-callables">
                  4: PydanticMeta &amp; Callables
                 </a>
                </li>
               </ul>
              </nav>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="#module-tortoise.contrib.pydantic.creator">
               Creators
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="#pydanticmeta">
               PydanticMeta
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="#module-tortoise.contrib.pydantic.base">
               Model classes
              </a>
             </li>
            </ul>
           </nav>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__extra_link" href="../_sources/contrib/pydantic.rst.txt">
            Show Source
           </a>
          </li>
          <li class="md-nav__item" id="searchbox">
          </li>
         </ul>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-content">
      <article class="md-content__inner md-typeset" role="main">
       <section id="pydantic-serialisation">
        <span id="contrib-pydantic">
        </span>
        <h1 id="contrib-pydantic--page-root">
         Pydantic serialisation
         <a class="headerlink" href="#contrib-pydantic--page-root" title="Permalink to this headline">
          ¶
         </a>
        </h1>
        <p>
         Tortoise ORM has a Pydantic plugin that will generate Pydantic Models from Tortoise Models, and then provides helper functions to serialise that model and its related objects.
        </p>
        <p>
         We currently only support generating Pydantic objects for serialisation, and no deserialisation at this stage.
        </p>
        <p>
         See the
         <a class="reference internal" href="../examples/pydantic.html#examples-pydantic">
          <span class="std std-ref">
           Pydantic Examples
          </span>
         </a>
        </p>
        <section class="emphasize-children" id="tutorial">
         <h2 id="tutorial">
          Tutorial
          <a class="headerlink" href="#tutorial" title="Permalink to this headline">
           ¶
          </a>
         </h2>
         <section class="html-toggle" id="basic-usage">
          <h3 id="basic-usage">
           1: Basic usage
           <a class="headerlink" href="#basic-usage" title="Permalink to this headline">
            ¶
           </a>
          </h3>
          <p>
           Here we introduce:
          </p>
          <ul class="simple">
           <li>
            <p>
             Creating a Pydantic model from a Tortoise model
            </p>
           </li>
           <li>
            <p>
             Docstrings &amp; doc-comments are used
            </p>
           </li>
           <li>
            <p>
             Evaluating the generated schema
            </p>
           </li>
           <li>
            <p>
             Simple serialisation with both
             <code class="docutils literal notranslate">
              <span class="pre">
               .dict()
              </span>
             </code>
             and
             <code class="docutils literal notranslate">
              <span class="pre">
               .json()
              </span>
             </code>
            </p>
           </li>
          </ul>
          <p>
           Source to example:
           <a class="reference internal" href="../examples/pydantic.html#example-pydantic-tut1">
            <span class="std std-ref">
             1: Basic usage
            </span>
           </a>
          </p>
          <p>
           Lets start with a basic Tortoise Model:
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">tortoise</span> <span class="kn">import</span> <span class="n">fields</span>
<span class="kn">from</span> <span class="nn">tortoise.models</span> <span class="kn">import</span> <span class="n">Model</span>

<span class="k">class</span> <span class="nc">Tournament</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    This references a Tournament</span>
<span class="sd">    """</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">IntField</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="c1">#: The date-time the Tournament record was created at</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">DatetimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <div class="line-block">
           <div class="line">
            To create a Pydantic model from that one would call:
           </div>
           <div class="line">
            <a class="reference internal" href="#tortoise.contrib.pydantic.creator.pydantic_model_creator" title="tortoise.contrib.pydantic.creator.pydantic_model_creator">
             <code class="xref py py-meth docutils literal notranslate">
              <span class="pre">
               tortoise.contrib.pydantic.creator.pydantic_model_creator()
              </span>
             </code>
            </a>
           </div>
          </div>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">tortoise.contrib.pydantic</span> <span class="kn">import</span> <span class="n">pydantic_model_creator</span>

<span class="n">Tournament_Pydantic</span> <span class="o">=</span> <span class="n">pydantic_model_creator</span><span class="p">(</span><span class="n">Tournament</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <p>
           And now have a
           <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/models/">
            Pydantic Model
           </a>
           that can be used for representing schema and serialisation.
          </p>
          <p>
           The JSON-Schema of
           <code class="docutils literal notranslate">
            <span class="pre">
             Tournament_Pydantic
            </span>
           </code>
           is now:
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Tournament_Pydantic</span><span class="o">.</span><span class="n">schema</span><span class="p">())</span>
<span class="go">{</span>
<span class="go">    'title': 'Tournament',</span>
<span class="go">    'description': 'This references a Tournament',</span>
<span class="go">    'type': 'object',</span>
<span class="go">    'properties': {</span>
<span class="go">        'id': {</span>
<span class="go">            'title': 'Id',</span>
<span class="go">            'type': 'integer'</span>
<span class="go">        },</span>
<span class="go">        'name': {</span>
<span class="go">            'title': 'Name',</span>
<span class="go">            'type': 'string'</span>
<span class="go">        },</span>
<span class="go">        'created_at': {</span>
<span class="go">            'title': 'Created At',</span>
<span class="go">            'description': 'The date-time the Tournament record was created at',</span>
<span class="go">            'type': 'string',</span>
<span class="go">            'format': 'date-time'</span>
<span class="go">        }</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre>
           </div>
          </div>
          <p>
           Note how the class docstring and doc-comment
           <code class="docutils literal notranslate">
            <span class="pre">
             #:
            </span>
           </code>
           is included as descriptions in the Schema.
          </p>
          <p>
           To serialise an object it is simply
           <em>
            (in an async context)
           </em>
           :
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="n">tournament</span> <span class="o">=</span> <span class="k">await</span> <span class="n">Tournament</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"New Tournament"</span><span class="p">)</span>
<span class="n">tourpy</span> <span class="o">=</span> <span class="k">await</span> <span class="n">Tournament_Pydantic</span><span class="o">.</span><span class="n">from_tortoise_orm</span><span class="p">(</span><span class="n">tournament</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <p>
           And one could get the contents by using
           <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/exporting_models/">
            regular Pydantic-object methods
           </a>
           , such as
           <code class="docutils literal notranslate">
            <span class="pre">
             .dict()
            </span>
           </code>
           or
           <code class="docutils literal notranslate">
            <span class="pre">
             .json()
            </span>
           </code>
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tourpy</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
<span class="go">{</span>
<span class="go">    'id': 1,</span>
<span class="go">    'name': 'New Tournament',</span>
<span class="go">    'created_at': datetime.datetime(2020, 3, 1, 20, 28, 9, 346808)</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tourpy</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
<span class="go">{</span>
<span class="go">    "id": 1,</span>
<span class="go">    "name": "New Tournament",</span>
<span class="go">    "created_at": "2020-03-01T20:28:09.346808"</span>
<span class="go">}</span>
</pre>
           </div>
          </div>
         </section>
         <section class="html-toggle" id="querysets-lists">
          <h3 id="querysets-lists">
           2: Querysets &amp; Lists
           <a class="headerlink" href="#querysets-lists" title="Permalink to this headline">
            ¶
           </a>
          </h3>
          <p>
           Here we introduce:
          </p>
          <ul class="simple">
           <li>
            <p>
             Creating a list-model to serialise a queryset
            </p>
           </li>
           <li>
            <p>
             Default sorting is honoured
            </p>
           </li>
          </ul>
          <p>
           Source to example:
           <a class="reference internal" href="../examples/pydantic.html#example-pydantic-tut2">
            <span class="std std-ref">
             2: Querysets &amp; Lists
            </span>
           </a>
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">tortoise</span> <span class="kn">import</span> <span class="n">fields</span>
<span class="kn">from</span> <span class="nn">tortoise.models</span> <span class="kn">import</span> <span class="n">Model</span>

<span class="k">class</span> <span class="nc">Tournament</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    This references a Tournament</span>
<span class="sd">    """</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">IntField</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="c1">#: The date-time the Tournament record was created at</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">DatetimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="c1"># Define the default ordering</span>
        <span class="c1">#  the pydantic serialiser will use this to order the results</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"name"</span><span class="p">]</span>
</pre>
           </div>
          </div>
          <div class="line-block">
           <div class="line">
            To create a Pydantic list-model from that one would call:
           </div>
           <div class="line">
            <a class="reference internal" href="#tortoise.contrib.pydantic.creator.pydantic_queryset_creator" title="tortoise.contrib.pydantic.creator.pydantic_queryset_creator">
             <code class="xref py py-meth docutils literal notranslate">
              <span class="pre">
               tortoise.contrib.pydantic.creator.pydantic_queryset_creator()
              </span>
             </code>
            </a>
           </div>
          </div>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">tortoise.contrib.pydantic</span> <span class="kn">import</span> <span class="n">pydantic_queryset_creator</span>

<span class="n">Tournament_Pydantic_List</span> <span class="o">=</span> <span class="n">pydantic_queryset_creator</span><span class="p">(</span><span class="n">Tournament</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <p>
           And now have a
           <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/models/">
            Pydantic Model
           </a>
           that can be used for representing schema and serialisation.
          </p>
          <p>
           The JSON-Schema of
           <code class="docutils literal notranslate">
            <span class="pre">
             Tournament_Pydantic_List
            </span>
           </code>
           is now:
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Tournament_Pydantic_List</span><span class="o">.</span><span class="n">schema</span><span class="p">())</span>
<span class="go">{</span>
<span class="go">    'title': 'Tournaments',</span>
<span class="go">    'description': 'This references a Tournament',</span>
<span class="go">    'type': 'array',</span>
<span class="go">    'items': {</span>
<span class="go">        '$ref': '#/definitions/Tournament'</span>
<span class="go">    },</span>
<span class="go">    'definitions': {</span>
<span class="go">        'Tournament': {</span>
<span class="go">            'title': 'Tournament',</span>
<span class="go">            'description': 'This references a Tournament',</span>
<span class="go">            'type': 'object',</span>
<span class="go">            'properties': {</span>
<span class="go">                'id': {</span>
<span class="go">                    'title': 'Id',</span>
<span class="go">                    'type': 'integer'</span>
<span class="go">                },</span>
<span class="go">                'name': {</span>
<span class="go">                    'title': 'Name',</span>
<span class="go">                    'type': 'string'</span>
<span class="go">                },</span>
<span class="go">                'created_at': {</span>
<span class="go">                    'title': 'Created At',</span>
<span class="go">                    'description': 'The date-time the Tournament record was created at',</span>
<span class="go">                    'type': 'string',</span>
<span class="go">                    'format': 'date-time'</span>
<span class="go">                }</span>
<span class="go">            }</span>
<span class="go">        }</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre>
           </div>
          </div>
          <p>
           Note that the
           <code class="docutils literal notranslate">
            <span class="pre">
             Tournament
            </span>
           </code>
           is now not the root. A simple list is.
          </p>
          <p>
           To serialise an object it is simply
           <em>
            (in an async context)
           </em>
           :
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="c1"># Create objects</span>
<span class="k">await</span> <span class="n">Tournament</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"New Tournament"</span><span class="p">)</span>
<span class="k">await</span> <span class="n">Tournament</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Another"</span><span class="p">)</span>
<span class="k">await</span> <span class="n">Tournament</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Last Tournament"</span><span class="p">)</span>

<span class="n">tourpy</span> <span class="o">=</span> <span class="k">await</span> <span class="n">Tournament_Pydantic_List</span><span class="o">.</span><span class="n">from_queryset</span><span class="p">(</span><span class="n">Tournament</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
</pre>
           </div>
          </div>
          <p>
           And one could get the contents by using
           <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/exporting_models/">
            regular Pydantic-object methods
           </a>
           , such as
           <code class="docutils literal notranslate">
            <span class="pre">
             .dict()
            </span>
           </code>
           or
           <code class="docutils literal notranslate">
            <span class="pre">
             .json()
            </span>
           </code>
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tourpy</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
<span class="go">{</span>
<span class="go">    '__root__': [</span>
<span class="go">        {</span>
<span class="go">            'id': 2,</span>
<span class="go">            'name': 'Another',</span>
<span class="go">            'created_at': datetime.datetime(2020, 3, 2, 6, 53, 39, 776504)</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            'id': 3,</span>
<span class="go">            'name': 'Last Tournament',</span>
<span class="go">            'created_at': datetime.datetime(2020, 3, 2, 6, 53, 39, 776848)</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            'id': 1,</span>
<span class="go">            'name': 'New Tournament',</span>
<span class="go">            'created_at': datetime.datetime(2020, 3, 2, 6, 53, 39, 776211)</span>
<span class="go">        }</span>
<span class="go">    ]</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tourpy</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
<span class="go">[</span>
<span class="go">    {</span>
<span class="go">        "id": 2,</span>
<span class="go">        "name": "Another",</span>
<span class="go">        "created_at": "2020-03-02T06:53:39.776504"</span>
<span class="go">    },</span>
<span class="go">    {</span>
<span class="go">        "id": 3,</span>
<span class="go">        "name": "Last Tournament",</span>
<span class="go">        "created_at": "2020-03-02T06:53:39.776848"</span>
<span class="go">    },</span>
<span class="go">    {</span>
<span class="go">        "id": 1,</span>
<span class="go">        "name": "New Tournament",</span>
<span class="go">        "created_at": "2020-03-02T06:53:39.776211"</span>
<span class="go">    }</span>
<span class="go">]</span>
</pre>
           </div>
          </div>
          <p>
           Note how
           <code class="docutils literal notranslate">
            <span class="pre">
             .dict()
            </span>
           </code>
           has a
           <code class="docutils literal notranslate">
            <span class="pre">
             _root__
            </span>
           </code>
           element with the list, but the
           <code class="docutils literal notranslate">
            <span class="pre">
             .json()
            </span>
           </code>
           has the list as root.
Also note how the results are sorted alphabetically by
           <code class="docutils literal notranslate">
            <span class="pre">
             name
            </span>
           </code>
           .
          </p>
         </section>
         <section class="html-toggle" id="relations-early-init">
          <h3 id="relations-early-init">
           3: Relations &amp; Early-init
           <a class="headerlink" href="#relations-early-init" title="Permalink to this headline">
            ¶
           </a>
          </h3>
          <p>
           Here we introduce:
          </p>
          <ul class="simple">
           <li>
            <p>
             Relationships
            </p>
           </li>
           <li>
            <p>
             Early model init
            </p>
           </li>
          </ul>
          <div class="admonition note">
           <p class="admonition-title">
            Note
           </p>
           <p>
            The part of this tutorial about early-init is only required if you need to generate the pydantic models
            <strong>
             before
            </strong>
            you have initialised Tortoise ORM.
           </p>
           <p>
            Look at
            <a class="reference internal" href="../examples/pydantic.html#example-pydantic-basic">
             <span class="std std-ref">
              Basic Pydantic
             </span>
            </a>
            (in function
            <code class="docutils literal notranslate">
             <span class="pre">
              run
             </span>
            </code>
            ) to see where the
            <code class="docutils literal notranslate">
             <span class="pre">
              *_creator
             </span>
             <span class="pre">
              is
             </span>
             <span class="pre">
              only
             </span>
            </code>
            called
            <strong>
             after
            </strong>
            we initialised Tortoise ORM properly, in that case an early init is not needed.
           </p>
          </div>
          <p>
           Source to example:
           <a class="reference internal" href="../examples/pydantic.html#example-pydantic-tut3">
            <span class="std std-ref">
             3: Relations &amp; Early-init
            </span>
           </a>
          </p>
          <p>
           We define our models with a relationship:
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">tortoise</span> <span class="kn">import</span> <span class="n">fields</span>
<span class="kn">from</span> <span class="nn">tortoise.models</span> <span class="kn">import</span> <span class="n">Model</span>

<span class="k">class</span> <span class="nc">Tournament</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    This references a Tournament</span>
<span class="sd">    """</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">IntField</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="c1">#: The date-time the Tournament record was created at</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">DatetimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Event</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    This references an Event in a Tournament</span>
<span class="sd">    """</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">IntField</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">DatetimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">tournament</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">ForeignKeyField</span><span class="p">(</span>
        <span class="s2">"models.Tournament"</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s2">"events"</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">"The Tournement this happens in"</span>
    <span class="p">)</span>
</pre>
           </div>
          </div>
          <p>
           Next we create our
           <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/models/">
            Pydantic Model
           </a>
           using
           <code class="docutils literal notranslate">
            <span class="pre">
             pydantic_model_creator
            </span>
           </code>
           :
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">tortoise.contrib.pydantic</span> <span class="kn">import</span> <span class="n">pydantic_model_creator</span>

<span class="n">Tournament_Pydantic</span> <span class="o">=</span> <span class="n">pydantic_model_creator</span><span class="p">(</span><span class="n">Tournament</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <p>
           The JSON-Schema of
           <code class="docutils literal notranslate">
            <span class="pre">
             Tournament_Pydantic
            </span>
           </code>
           is now:
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Tournament_Pydantic</span><span class="o">.</span><span class="n">schema</span><span class="p">())</span>
<span class="go">{</span>
<span class="go">    'title': 'Tournament',</span>
<span class="go">    'description': 'This references a Tournament',</span>
<span class="go">    'type': 'object',</span>
<span class="go">    'properties': {</span>
<span class="go">        'id': {</span>
<span class="go">            'title': 'Id',</span>
<span class="go">            'type': 'integer'</span>
<span class="go">        },</span>
<span class="go">        'name': {</span>
<span class="go">            'title': 'Name',</span>
<span class="go">            'type': 'string'</span>
<span class="go">        },</span>
<span class="go">        'created_at': {</span>
<span class="go">            'title': 'Created At',</span>
<span class="go">            'description': 'The date-time the Tournament record was created at',</span>
<span class="go">            'type': 'string',</span>
<span class="go">            'format': 'date-time'</span>
<span class="go">        }</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre>
           </div>
          </div>
          <p>
           Oh no! Where is the relation?
          </p>
          <p>
           Because the models have not fully initialised, it doesn’t know about the relations at this stage.
          </p>
          <p>
           We need to initialise our model relationships early using
           <a class="reference internal" href="../setup.html#tortoise.Tortoise.init_models" title="tortoise.Tortoise.init_models">
            <code class="xref py py-meth docutils literal notranslate">
             <span class="pre">
              tortoise.Tortoise.init_models()
             </span>
            </code>
           </a>
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">tortoise</span> <span class="kn">import</span> <span class="n">Tortoise</span>

<span class="n">Tortoise</span><span class="o">.</span><span class="n">init_models</span><span class="p">([</span><span class="s2">"__main__"</span><span class="p">],</span> <span class="s2">"models"</span><span class="p">)</span>
<span class="c1"># Now lets try again</span>
<span class="n">Tournament_Pydantic</span> <span class="o">=</span> <span class="n">pydantic_model_creator</span><span class="p">(</span><span class="n">Tournament</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <p>
           The JSON-Schema of
           <code class="docutils literal notranslate">
            <span class="pre">
             Tournament_Pydantic
            </span>
           </code>
           is now:
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Tournament_Pydantic</span><span class="o">.</span><span class="n">schema</span><span class="p">())</span>
<span class="go">{</span>
<span class="go">    'title': 'Tournament',</span>
<span class="go">    'description': 'This references a Tournament',</span>
<span class="go">    'type': 'object',</span>
<span class="go">    'properties': {</span>
<span class="go">        'id': {</span>
<span class="go">            'title': 'Id',</span>
<span class="go">            'type': 'integer'</span>
<span class="go">        },</span>
<span class="go">        'name': {</span>
<span class="go">            'title': 'Name',</span>
<span class="go">            'type': 'string'</span>
<span class="go">        },</span>
<span class="go">        'created_at': {</span>
<span class="go">            'title': 'Created At',</span>
<span class="go">            'description': 'The date-time the Tournament record was created at',</span>
<span class="go">            'type': 'string',</span>
<span class="go">            'format': 'date-time'</span>
<span class="go">        },</span>
<span class="go">        'events': {</span>
<span class="go">            'title': 'Events',</span>
<span class="go">            'description': 'The Tournement this happens in',</span>
<span class="go">            'type': 'array',</span>
<span class="go">            'items': {</span>
<span class="go">                '$ref': '#/definitions/Event'</span>
<span class="go">            }</span>
<span class="go">        }</span>
<span class="go">    },</span>
<span class="go">    'definitions': {</span>
<span class="go">        'Event': {</span>
<span class="go">            'title': 'Event',</span>
<span class="go">            'description': 'This references an Event in a Tournament',</span>
<span class="go">            'type': 'object',</span>
<span class="go">            'properties': {</span>
<span class="go">                'id': {</span>
<span class="go">                    'title': 'Id',</span>
<span class="go">                    'type': 'integer'</span>
<span class="go">                },</span>
<span class="go">                'name': {</span>
<span class="go">                    'title': 'Name',</span>
<span class="go">                    'type': 'string'</span>
<span class="go">                },</span>
<span class="go">                'created_at': {</span>
<span class="go">                    'title': 'Created At',</span>
<span class="go">                    'type': 'string',</span>
<span class="go">                    'format': 'date-time'</span>
<span class="go">                }</span>
<span class="go">            }</span>
<span class="go">        }</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre>
           </div>
          </div>
          <p>
           Aha! that’s much better.
          </p>
          <p>
           Note we can also create a model for
           <code class="docutils literal notranslate">
            <span class="pre">
             Event
            </span>
           </code>
           the same way, and it should just work:
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="n">Event_Pydantic</span> <span class="o">=</span> <span class="n">pydantic_model_creator</span><span class="p">(</span><span class="n">Event</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">Event_Pydantic</span><span class="o">.</span><span class="n">schema</span><span class="p">())</span>
<span class="p">{</span>
    <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Event'</span><span class="p">,</span>
    <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'This references an Event in a Tournament'</span><span class="p">,</span>
    <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'object'</span><span class="p">,</span>
    <span class="s1">'properties'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'id'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Id'</span><span class="p">,</span>
            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'integer'</span>
        <span class="p">},</span>
        <span class="s1">'name'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Name'</span><span class="p">,</span>
            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'string'</span>
        <span class="p">},</span>
        <span class="s1">'created_at'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Created At'</span><span class="p">,</span>
            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'string'</span><span class="p">,</span>
            <span class="s1">'format'</span><span class="p">:</span> <span class="s1">'date-time'</span>
        <span class="p">},</span>
        <span class="s1">'tournament'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Tournament'</span><span class="p">,</span>
            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'The Tournement this happens in'</span><span class="p">,</span>
            <span class="s1">'allOf'</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s1">'$ref'</span><span class="p">:</span> <span class="s1">'#/definitions/Tournament'</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s1">'definitions'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'Tournament'</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Tournament'</span><span class="p">,</span>
            <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'This references a Tournament'</span><span class="p">,</span>
            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'object'</span><span class="p">,</span>
            <span class="s1">'properties'</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">'id'</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Id'</span><span class="p">,</span>
                    <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'integer'</span>
                <span class="p">},</span>
                <span class="s1">'name'</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Name'</span><span class="p">,</span>
                    <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'string'</span>
                <span class="p">},</span>
                <span class="s1">'created_at'</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Created At'</span><span class="p">,</span>
                    <span class="s1">'description'</span><span class="p">:</span> <span class="s1">'The date-time the Tournament record was created at'</span><span class="p">,</span>
                    <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'string'</span><span class="p">,</span>
                    <span class="s1">'format'</span><span class="p">:</span> <span class="s1">'date-time'</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
           </div>
          </div>
          <p>
           And that also has the relation defined!
          </p>
          <p>
           Note how both schema’s don’t follow relations back. This is on by default, and in a later tutorial we will show the options.
          </p>
          <p>
           Lets create and serialise the objects and see what they look like
           <em>
            (in an async context)
           </em>
           :
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="c1"># Create objects</span>
<span class="n">tournament</span> <span class="o">=</span> <span class="k">await</span> <span class="n">Tournament</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"New Tournament"</span><span class="p">)</span>
<span class="n">event</span> <span class="o">=</span> <span class="k">await</span> <span class="n">Event</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"The Event"</span><span class="p">,</span> <span class="n">tournament</span><span class="o">=</span><span class="n">tournament</span><span class="p">)</span>

<span class="c1"># Serialise Tournament</span>
<span class="n">tourpy</span> <span class="o">=</span> <span class="k">await</span> <span class="n">Tournament_Pydantic</span><span class="o">.</span><span class="n">from_tortoise_orm</span><span class="p">(</span><span class="n">tournament</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">tourpy</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
<span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"New Tournament"</span><span class="p">,</span>
    <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-03-02T07:23:27.731656"</span><span class="p">,</span>
    <span class="s2">"events"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"The Event"</span><span class="p">,</span>
            <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-03-02T07:23:27.732492"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre>
           </div>
          </div>
          <p>
           And serialising the event
           <em>
            (in an async context)
           </em>
           :
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="n">eventpy</span> <span class="o">=</span> <span class="k">await</span> <span class="n">Event_Pydantic</span><span class="o">.</span><span class="n">from_tortoise_orm</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">eventpy</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
<span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"The Event"</span><span class="p">,</span>
    <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-03-02T07:23:27.732492"</span><span class="p">,</span>
    <span class="s2">"tournament"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"New Tournament"</span><span class="p">,</span>
        <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2020-03-02T07:23:27.731656"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
           </div>
          </div>
         </section>
         <section class="html-toggle" id="pydanticmeta-callables">
          <h3 id="pydanticmeta-callables">
           4: PydanticMeta &amp; Callables
           <a class="headerlink" href="#pydanticmeta-callables" title="Permalink to this headline">
            ¶
           </a>
          </h3>
          <p>
           Here we introduce:
          </p>
          <ul class="simple">
           <li>
            <p>
             Configuring model creator via
             <code class="docutils literal notranslate">
              <span class="pre">
               PydanticMeta
              </span>
             </code>
             class.
            </p>
           </li>
           <li>
            <p>
             Using callable functions to annotate extra data.
            </p>
           </li>
          </ul>
          <p>
           Source to example:
           <a class="reference internal" href="../examples/pydantic.html#example-pydantic-tut4">
            <span class="std std-ref">
             4: PydanticMeta &amp; Callables
            </span>
           </a>
          </p>
          <p>
           Let’s add some methods that calculate data, and tell the creators to use them:
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="k">class</span> <span class="nc">Tournament</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    This references a Tournament</span>
<span class="sd">    """</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">IntField</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">DatetimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># It is useful to define the reverse relations manually so that type checking</span>
    <span class="c1">#  and auto completion work</span>
    <span class="n">events</span><span class="p">:</span> <span class="n">fields</span><span class="o">.</span><span class="n">ReverseRelation</span><span class="p">[</span><span class="s2">"Event"</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">name_length</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">"""</span>
<span class="sd">        Computed length of name</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">events_num</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">"""</span>
<span class="sd">        Computed team size</span>
<span class="sd">        """</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">NoValuesFetched</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

    <span class="k">class</span> <span class="nc">PydanticMeta</span><span class="p">:</span>
        <span class="c1"># Let's exclude the created timestamp</span>
        <span class="n">exclude</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"created_at"</span><span class="p">,)</span>
        <span class="c1"># Let's include two callables as computed columns</span>
        <span class="n">computed</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"name_length"</span><span class="p">,</span> <span class="s2">"events_num"</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Event</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    This references an Event in a Tournament</span>
<span class="sd">    """</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">IntField</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">DatetimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">tournament</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">ForeignKeyField</span><span class="p">(</span>
        <span class="s2">"models.Tournament"</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s2">"events"</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">"The Tournement this happens in"</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"name"</span><span class="p">]</span>

    <span class="k">class</span> <span class="nc">PydanticMeta</span><span class="p">:</span>
        <span class="n">exclude</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"created_at"</span><span class="p">,)</span>
</pre>
           </div>
          </div>
          <p>
           There is much to unpack here.
          </p>
          <p>
           Firstly, we defined a
           <code class="docutils literal notranslate">
            <span class="pre">
             PydanticMeta
            </span>
           </code>
           block, and in there is configuration options for the pydantic model creator.
See
           <a class="reference internal" href="#tortoise.contrib.pydantic.creator.PydanticMeta" title="tortoise.contrib.pydantic.creator.PydanticMeta">
            <code class="xref py py-class docutils literal notranslate">
             <span class="pre">
              tortoise.contrib.pydantic.creator.PydanticMeta
             </span>
            </code>
           </a>
           for the available options.
          </p>
          <p>
           Secondly, we excluded
           <code class="docutils literal notranslate">
            <span class="pre">
             created_at
            </span>
           </code>
           in both models, as we decided it provided no benefit.
          </p>
          <p>
           Thirly, we added two callables:
           <code class="docutils literal notranslate">
            <span class="pre">
             name_length
            </span>
           </code>
           and
           <code class="docutils literal notranslate">
            <span class="pre">
             events_num
            </span>
           </code>
           . We want these as part of the result set.
Note that callables/computed fields require manual specification of return type, as without this we can’t determine the record type which is needed to create a valid Pydantic schema.
This is not needed for standard Tortoise ORM fields, as the fields already define a valid type.
          </p>
          <p>
           Note that the Pydantic serializer can’t call async methods, but since the tortoise helpers pre-fetch relational data, it is available before serialization.
So we don’t need to await the relation.
We should however protect against the case where no prefetching was done, hence catching and handling the
           <code class="docutils literal notranslate">
            <span class="pre">
             tortoise.exceptions.NoValuesFetched
            </span>
           </code>
           exception.
          </p>
          <p>
           Next we create our
           <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/models/">
            Pydantic Model
           </a>
           using
           <code class="docutils literal notranslate">
            <span class="pre">
             pydantic_model_creator
            </span>
           </code>
           :
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">tortoise</span> <span class="kn">import</span> <span class="n">Tortoise</span>

<span class="n">Tortoise</span><span class="o">.</span><span class="n">init_models</span><span class="p">([</span><span class="s2">"__main__"</span><span class="p">],</span> <span class="s2">"models"</span><span class="p">)</span>
<span class="n">Tournament_Pydantic</span> <span class="o">=</span> <span class="n">pydantic_model_creator</span><span class="p">(</span><span class="n">Tournament</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <p>
           The JSON-Schema of
           <code class="docutils literal notranslate">
            <span class="pre">
             Tournament_Pydantic
            </span>
           </code>
           is now:
          </p>
          <div class="highlight-json notranslate">
           <div class="highlight">
            <pre><span></span><span class="p">{</span>
    <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Tournament"</span><span class="p">,</span>
    <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"This references a Tournament"</span><span class="p">,</span>
    <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"object"</span><span class="p">,</span>
    <span class="nt">"properties"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"id"</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Id"</span><span class="p">,</span>
            <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"integer"</span>
        <span class="p">},</span>
        <span class="nt">"name"</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Name"</span><span class="p">,</span>
            <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"string"</span>
        <span class="p">},</span>
        <span class="nt">"events"</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Events"</span><span class="p">,</span>
            <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"The Tournement this happens in"</span><span class="p">,</span>
            <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"array"</span><span class="p">,</span>
            <span class="nt">"items"</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">"$ref"</span><span class="p">:</span> <span class="s2">"#/definitions/Event"</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">"name_length"</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Name Length"</span><span class="p">,</span>
            <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"Computes length of name"</span><span class="p">,</span>
            <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"integer"</span>
        <span class="p">},</span>
        <span class="nt">"events_num"</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Events Num"</span><span class="p">,</span>
            <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"Computes team size."</span><span class="p">,</span>
            <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"integer"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">"definitions"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"Event"</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Event"</span><span class="p">,</span>
            <span class="nt">"description"</span><span class="p">:</span> <span class="s2">"This references an Event in a Tournament"</span><span class="p">,</span>
            <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"object"</span><span class="p">,</span>
            <span class="nt">"properties"</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">"id"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Id"</span><span class="p">,</span>
                    <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"integer"</span>
                <span class="p">},</span>
                <span class="nt">"name"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Name"</span><span class="p">,</span>
                    <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"string"</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
           </div>
          </div>
          <p>
           Note that
           <code class="docutils literal notranslate">
            <span class="pre">
             created_at
            </span>
           </code>
           is removed, and
           <code class="docutils literal notranslate">
            <span class="pre">
             name_length
            </span>
           </code>
           &amp;
           <code class="docutils literal notranslate">
            <span class="pre">
             events_num
            </span>
           </code>
           is added.
          </p>
          <p>
           Lets create and serialise the objects and see what they look like
           <em>
            (in an async context)
           </em>
           :
          </p>
          <div class="highlight-py3 notranslate">
           <div class="highlight">
            <pre><span></span><span class="c1"># Create objects</span>
<span class="n">tournament</span> <span class="o">=</span> <span class="k">await</span> <span class="n">Tournament</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"New Tournament"</span><span class="p">)</span>
<span class="k">await</span> <span class="n">Event</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Event 1"</span><span class="p">,</span> <span class="n">tournament</span><span class="o">=</span><span class="n">tournament</span><span class="p">)</span>
<span class="k">await</span> <span class="n">Event</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Event 2"</span><span class="p">,</span> <span class="n">tournament</span><span class="o">=</span><span class="n">tournament</span><span class="p">)</span>

<span class="c1"># Serialise Tournament</span>
<span class="n">tourpy</span> <span class="o">=</span> <span class="k">await</span> <span class="n">Tournament_Pydantic</span><span class="o">.</span><span class="n">from_tortoise_orm</span><span class="p">(</span><span class="n">tournament</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">tourpy</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
<span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"New Tournament"</span><span class="p">,</span>
    <span class="s2">"events"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Event 1"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Event 2"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"name_length"</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
    <span class="s2">"events_num"</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre>
           </div>
          </div>
         </section>
        </section>
        <section id="module-tortoise.contrib.pydantic.creator">
         <span id="creators">
         </span>
         <h2 id="module-tortoise.contrib.pydantic.creator">
          Creators
          <a class="headerlink" href="#module-tortoise.contrib.pydantic.creator" title="Permalink to this headline">
           ¶
          </a>
         </h2>
         <dl class="py function">
          <dt class="sig sig-object py" id="tortoise.contrib.pydantic.creator.pydantic_model_creator">
           <span class="sig-prename descclassname">
            <span class="pre">
             tortoise.contrib.pydantic.creator.
            </span>
           </span>
           <span class="sig-name descname">
            <span class="pre">
             pydantic_model_creator
            </span>
           </span>
           <span class="sig-paren">
            (
           </span>
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              cls
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="o">
             <span class="pre">
              *
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              name
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              None
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              exclude
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              ()
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              include
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              ()
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              computed
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              ()
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              allow_cycles
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              None
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              sort_alphabetically
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              None
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              _stack
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              ()
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              exclude_readonly
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              False
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              meta_override
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              None
             </span>
            </span>
           </em>
           <span class="sig-paren">
            )
           </span>
           <a class="reference internal" href="../_modules/tortoise/contrib/pydantic/creator.html#pydantic_model_creator">
            <span class="viewcode-link">
             <span class="pre">
              [source]
             </span>
            </span>
           </a>
           <a class="headerlink" href="#tortoise.contrib.pydantic.creator.pydantic_model_creator" title="Permalink to this definition">
            ¶
           </a>
          </dt>
          <dd>
           <p>
            Function to build
            <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/models/">
             Pydantic Model
            </a>
            off Tortoise Model.
           </p>
           <dl class="field-list simple">
            <dt class="field-odd">
             Parameters
            </dt>
            <dd class="field-odd">
             <ul class="simple">
              <li>
               <p>
                <strong>
                 cls
                </strong>
                (
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  Type
                 </span>
                </code>
                [
                <a class="reference internal" href="../models.html#tortoise.models.Model" title="tortoise.models.Model">
                 <code class="xref py py-class docutils literal notranslate">
                  <span class="pre">
                   Model
                  </span>
                 </code>
                </a>
                ]) – The Tortoise Model
               </p>
              </li>
              <li>
               <p>
                <strong>
                 name
                </strong>
                – Specify a custom name explicitly, instead of a generated name.
               </p>
              </li>
              <li>
               <p>
                <strong>
                 exclude
                </strong>
                (
                <code class="xref py py-data docutils literal notranslate">
                 <span class="pre">
                  Tuple
                 </span>
                </code>
                [
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  str
                 </span>
                </code>
                , …]) – Extra fields to exclude from the provided model.
               </p>
              </li>
              <li>
               <p>
                <strong>
                 include
                </strong>
                (
                <code class="xref py py-data docutils literal notranslate">
                 <span class="pre">
                  Tuple
                 </span>
                </code>
                [
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  str
                 </span>
                </code>
                , …]) – Extra fields to include from the provided model.
               </p>
              </li>
              <li>
               <p>
                <strong>
                 computed
                </strong>
                (
                <code class="xref py py-data docutils literal notranslate">
                 <span class="pre">
                  Tuple
                 </span>
                </code>
                [
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  str
                 </span>
                </code>
                , …]) – Extra computed fields to include from the provided model.
               </p>
              </li>
              <li>
               <p>
                <strong>
                 allow_cycles
                </strong>
                (
                <code class="xref py py-data docutils literal notranslate">
                 <span class="pre">
                  Optional
                 </span>
                </code>
                [
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  bool
                 </span>
                </code>
                ]) –
               </p>
               <p>
                Do we allow any cycles in the generated model?
This is only useful for recursive/self-referential models.
               </p>
               <p>
                A value of
                <code class="docutils literal notranslate">
                 <span class="pre">
                  False
                 </span>
                </code>
                (the default) will prevent any and all backtracking.
               </p>
              </li>
              <li>
               <p>
                <strong>
                 sort_alphabetically
                </strong>
                (
                <code class="xref py py-data docutils literal notranslate">
                 <span class="pre">
                  Optional
                 </span>
                </code>
                [
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  bool
                 </span>
                </code>
                ]) –
               </p>
               <p>
                Sort the parameters alphabetically instead of Field-definition order.
               </p>
               <p>
                The default order would be:
               </p>
               <blockquote>
                <div>
                 <ul>
                  <li>
                   <p>
                    Field definition order +
                   </p>
                  </li>
                  <li>
                   <p>
                    order of reverse relations (as discovered) +
                   </p>
                  </li>
                  <li>
                   <p>
                    order of computed functions (as provided).
                   </p>
                  </li>
                 </ul>
                </div>
               </blockquote>
              </li>
              <li>
               <p>
                <strong>
                 exclude_readonly
                </strong>
                (
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  bool
                 </span>
                </code>
                ) – Build a subset model that excludes any readonly fields
               </p>
              </li>
              <li>
               <p>
                <strong>
                 meta_override
                </strong>
                (
                <code class="xref py py-data docutils literal notranslate">
                 <span class="pre">
                  Optional
                 </span>
                </code>
                [
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  Type
                 </span>
                </code>
                ]) – A PydanticMeta class to override model’s values.
               </p>
              </li>
             </ul>
            </dd>
            <dt class="field-even">
             Return type
            </dt>
            <dd class="field-even">
             <p>
              <code class="xref py py-class docutils literal notranslate">
               <span class="pre">
                Type
               </span>
              </code>
              [
              <a class="reference internal" href="#tortoise.contrib.pydantic.base.PydanticModel" title="tortoise.contrib.pydantic.base.PydanticModel">
               <code class="xref py py-class docutils literal notranslate">
                <span class="pre">
                 PydanticModel
                </span>
               </code>
              </a>
              ]
             </p>
            </dd>
           </dl>
          </dd>
         </dl>
         <dl class="py function">
          <dt class="sig sig-object py" id="tortoise.contrib.pydantic.creator.pydantic_queryset_creator">
           <span class="sig-prename descclassname">
            <span class="pre">
             tortoise.contrib.pydantic.creator.
            </span>
           </span>
           <span class="sig-name descname">
            <span class="pre">
             pydantic_queryset_creator
            </span>
           </span>
           <span class="sig-paren">
            (
           </span>
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              cls
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="o">
             <span class="pre">
              *
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              name
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              None
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              exclude
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              ()
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              include
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              ()
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              computed
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              ()
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              allow_cycles
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              None
             </span>
            </span>
           </em>
           ,
           <em class="sig-param">
            <span class="n">
             <span class="pre">
              sort_alphabetically
             </span>
            </span>
            <span class="o">
             <span class="pre">
              =
             </span>
            </span>
            <span class="default_value">
             <span class="pre">
              None
             </span>
            </span>
           </em>
           <span class="sig-paren">
            )
           </span>
           <a class="reference internal" href="../_modules/tortoise/contrib/pydantic/creator.html#pydantic_queryset_creator">
            <span class="viewcode-link">
             <span class="pre">
              [source]
             </span>
            </span>
           </a>
           <a class="headerlink" href="#tortoise.contrib.pydantic.creator.pydantic_queryset_creator" title="Permalink to this definition">
            ¶
           </a>
          </dt>
          <dd>
           <p>
            Function to build a
            <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/models/">
             Pydantic Model
            </a>
            list off Tortoise Model.
           </p>
           <dl class="field-list simple">
            <dt class="field-odd">
             Parameters
            </dt>
            <dd class="field-odd">
             <ul class="simple">
              <li>
               <p>
                <strong>
                 cls
                </strong>
                (
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  Type
                 </span>
                </code>
                [
                <a class="reference internal" href="../models.html#tortoise.models.Model" title="tortoise.models.Model">
                 <code class="xref py py-class docutils literal notranslate">
                  <span class="pre">
                   Model
                  </span>
                 </code>
                </a>
                ]) – The Tortoise Model to put in a list.
               </p>
              </li>
              <li>
               <p>
                <strong>
                 name
                </strong>
                –
               </p>
               <p>
                Specify a custom name explicitly, instead of a generated name.
               </p>
               <p>
                The list generated name is currently naive and merely adds a “s” to the end
of the singular name.
               </p>
              </li>
              <li>
               <p>
                <strong>
                 exclude
                </strong>
                (
                <code class="xref py py-data docutils literal notranslate">
                 <span class="pre">
                  Tuple
                 </span>
                </code>
                [
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  str
                 </span>
                </code>
                , …]) – Extra fields to exclude from the provided model.
               </p>
              </li>
              <li>
               <p>
                <strong>
                 include
                </strong>
                (
                <code class="xref py py-data docutils literal notranslate">
                 <span class="pre">
                  Tuple
                 </span>
                </code>
                [
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  str
                 </span>
                </code>
                , …]) – Extra fields to include from the provided model.
               </p>
              </li>
              <li>
               <p>
                <strong>
                 computed
                </strong>
                (
                <code class="xref py py-data docutils literal notranslate">
                 <span class="pre">
                  Tuple
                 </span>
                </code>
                [
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  str
                 </span>
                </code>
                , …]) – Extra computed fields to include from the provided model.
               </p>
              </li>
              <li>
               <p>
                <strong>
                 allow_cycles
                </strong>
                (
                <code class="xref py py-data docutils literal notranslate">
                 <span class="pre">
                  Optional
                 </span>
                </code>
                [
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  bool
                 </span>
                </code>
                ]) –
               </p>
               <p>
                Do we allow any cycles in the generated model?
This is only useful for recursive/self-referential models.
               </p>
               <p>
                A value of
                <code class="docutils literal notranslate">
                 <span class="pre">
                  False
                 </span>
                </code>
                (the default) will prevent any and all backtracking.
               </p>
              </li>
              <li>
               <p>
                <strong>
                 sort_alphabetically
                </strong>
                (
                <code class="xref py py-data docutils literal notranslate">
                 <span class="pre">
                  Optional
                 </span>
                </code>
                [
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  bool
                 </span>
                </code>
                ]) –
               </p>
               <p>
                Sort the parameters alphabetically instead of Field-definition order.
               </p>
               <p>
                The default order would be:
               </p>
               <blockquote>
                <div>
                 <ul>
                  <li>
                   <p>
                    Field definition order +
                   </p>
                  </li>
                  <li>
                   <p>
                    order of reverse relations (as discovered) +
                   </p>
                  </li>
                  <li>
                   <p>
                    order of computed functions (as provided).
                   </p>
                  </li>
                 </ul>
                </div>
               </blockquote>
              </li>
             </ul>
            </dd>
            <dt class="field-even">
             Return type
            </dt>
            <dd class="field-even">
             <p>
              <code class="xref py py-class docutils literal notranslate">
               <span class="pre">
                Type
               </span>
              </code>
              [
              <a class="reference internal" href="#tortoise.contrib.pydantic.base.PydanticListModel" title="tortoise.contrib.pydantic.base.PydanticListModel">
               <code class="xref py py-class docutils literal notranslate">
                <span class="pre">
                 PydanticListModel
                </span>
               </code>
              </a>
              ]
             </p>
            </dd>
           </dl>
          </dd>
         </dl>
        </section>
        <section id="pydanticmeta">
         <h2 id="pydanticmeta">
          PydanticMeta
          <a class="headerlink" href="#pydanticmeta" title="Permalink to this headline">
           ¶
          </a>
         </h2>
         <dl class="py class">
          <dt class="sig sig-object py" id="tortoise.contrib.pydantic.creator.PydanticMeta">
           <em class="property">
            <span class="pre">
             class
            </span>
           </em>
           <span class="sig-prename descclassname">
            <span class="pre">
             tortoise.contrib.pydantic.creator.
            </span>
           </span>
           <span class="sig-name descname">
            <span class="pre">
             PydanticMeta
            </span>
           </span>
           <a class="reference internal" href="../_modules/tortoise/contrib/pydantic/creator.html#PydanticMeta">
            <span class="viewcode-link">
             <span class="pre">
              [source]
             </span>
            </span>
           </a>
           <a class="headerlink" href="#tortoise.contrib.pydantic.creator.PydanticMeta" title="Permalink to this definition">
            ¶
           </a>
          </dt>
          <dd>
           <p>
            The
            <code class="docutils literal notranslate">
             <span class="pre">
              PydanticMeta
             </span>
            </code>
            class is used to configure metadata for generating the pydantic Model.
           </p>
           <p>
            Usage:
           </p>
           <div class="highlight-python3 notranslate">
            <div class="highlight">
             <pre><span></span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="o">...</span>

    <span class="k">class</span> <span class="nc">PydanticMeta</span><span class="p">:</span>
        <span class="n">exclude</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"foo"</span><span class="p">,</span> <span class="s2">"baa"</span><span class="p">)</span>
        <span class="n">computed</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"count_peanuts"</span><span class="p">,</span> <span class="p">)</span>
</pre>
            </div>
           </div>
           <dl class="py attribute">
            <dt class="sig sig-object py" id="tortoise.contrib.pydantic.creator.PydanticMeta.allow_cycles">
             <span class="sig-name descname">
              <span class="pre">
               allow_cycles
              </span>
             </span>
             <em class="property">
              <span class="pre">
               :
              </span>
              <span class="pre">
               bool
              </span>
             </em>
             <em class="property">
              <span class="pre">
               =
              </span>
              <span class="pre">
               False
              </span>
             </em>
             <a class="headerlink" href="#tortoise.contrib.pydantic.creator.PydanticMeta.allow_cycles" title="Permalink to this definition">
              ¶
             </a>
            </dt>
            <dd>
             <p>
              Allow cycles in recursion - This can result in HUGE data - Be careful!
Please use this with
              <code class="docutils literal notranslate">
               <span class="pre">
                exclude
               </span>
              </code>
              /
              <code class="docutils literal notranslate">
               <span class="pre">
                include
               </span>
              </code>
              and sane
              <code class="docutils literal notranslate">
               <span class="pre">
                max_recursion
               </span>
              </code>
             </p>
            </dd>
           </dl>
           <dl class="py attribute">
            <dt class="sig sig-object py" id="tortoise.contrib.pydantic.creator.PydanticMeta.backward_relations">
             <span class="sig-name descname">
              <span class="pre">
               backward_relations
              </span>
             </span>
             <em class="property">
              <span class="pre">
               :
              </span>
              <span class="pre">
               bool
              </span>
             </em>
             <em class="property">
              <span class="pre">
               =
              </span>
              <span class="pre">
               True
              </span>
             </em>
             <a class="headerlink" href="#tortoise.contrib.pydantic.creator.PydanticMeta.backward_relations" title="Permalink to this definition">
              ¶
             </a>
            </dt>
            <dd>
             <p>
              Use backward relations without annotations - not recommended, it can be huge data
without control
             </p>
            </dd>
           </dl>
           <dl class="py attribute">
            <dt class="sig sig-object py" id="tortoise.contrib.pydantic.creator.PydanticMeta.computed">
             <span class="sig-name descname">
              <span class="pre">
               computed
              </span>
             </span>
             <em class="property">
              <span class="pre">
               :
              </span>
              <span class="pre">
               Tuple
              </span>
              <span class="p">
               <span class="pre">
                [
               </span>
              </span>
              <span class="pre">
               str
              </span>
              <span class="p">
               <span class="pre">
                ,
               </span>
              </span>
              <span class="p">
               <span class="pre">
                ...
               </span>
              </span>
              <span class="p">
               <span class="pre">
                ]
               </span>
              </span>
             </em>
             <em class="property">
              <span class="pre">
               =
              </span>
              <span class="pre">
               ()
              </span>
             </em>
             <a class="headerlink" href="#tortoise.contrib.pydantic.creator.PydanticMeta.computed" title="Permalink to this definition">
              ¶
             </a>
            </dt>
            <dd>
             <p>
              Computed fields can be listed here to use in pydantic model
             </p>
            </dd>
           </dl>
           <dl class="py attribute">
            <dt class="sig sig-object py" id="tortoise.contrib.pydantic.creator.PydanticMeta.exclude">
             <span class="sig-name descname">
              <span class="pre">
               exclude
              </span>
             </span>
             <em class="property">
              <span class="pre">
               :
              </span>
              <span class="pre">
               Tuple
              </span>
              <span class="p">
               <span class="pre">
                [
               </span>
              </span>
              <span class="pre">
               str
              </span>
              <span class="p">
               <span class="pre">
                ,
               </span>
              </span>
              <span class="p">
               <span class="pre">
                ...
               </span>
              </span>
              <span class="p">
               <span class="pre">
                ]
               </span>
              </span>
             </em>
             <em class="property">
              <span class="pre">
               =
              </span>
              <span class="pre">
               ()
              </span>
             </em>
             <a class="headerlink" href="#tortoise.contrib.pydantic.creator.PydanticMeta.exclude" title="Permalink to this definition">
              ¶
             </a>
            </dt>
            <dd>
             <p>
              Fields listed in this property will be excluded from pydantic model
             </p>
            </dd>
           </dl>
           <dl class="py attribute">
            <dt class="sig sig-object py" id="tortoise.contrib.pydantic.creator.PydanticMeta.exclude_raw_fields">
             <span class="sig-name descname">
              <span class="pre">
               exclude_raw_fields
              </span>
             </span>
             <em class="property">
              <span class="pre">
               :
              </span>
              <span class="pre">
               bool
              </span>
             </em>
             <em class="property">
              <span class="pre">
               =
              </span>
              <span class="pre">
               True
              </span>
             </em>
             <a class="headerlink" href="#tortoise.contrib.pydantic.creator.PydanticMeta.exclude_raw_fields" title="Permalink to this definition">
              ¶
             </a>
            </dt>
            <dd>
             <p>
              If we should exclude raw fields (the ones have _id suffixes) of relations
             </p>
            </dd>
           </dl>
           <dl class="py attribute">
            <dt class="sig sig-object py" id="tortoise.contrib.pydantic.creator.PydanticMeta.include">
             <span class="sig-name descname">
              <span class="pre">
               include
              </span>
             </span>
             <em class="property">
              <span class="pre">
               :
              </span>
              <span class="pre">
               Tuple
              </span>
              <span class="p">
               <span class="pre">
                [
               </span>
              </span>
              <span class="pre">
               str
              </span>
              <span class="p">
               <span class="pre">
                ,
               </span>
              </span>
              <span class="p">
               <span class="pre">
                ...
               </span>
              </span>
              <span class="p">
               <span class="pre">
                ]
               </span>
              </span>
             </em>
             <em class="property">
              <span class="pre">
               =
              </span>
              <span class="pre">
               ()
              </span>
             </em>
             <a class="headerlink" href="#tortoise.contrib.pydantic.creator.PydanticMeta.include" title="Permalink to this definition">
              ¶
             </a>
            </dt>
            <dd>
             <p>
              If not empty, only fields this property contains will be in the pydantic model
             </p>
            </dd>
           </dl>
           <dl class="py attribute">
            <dt class="sig sig-object py" id="tortoise.contrib.pydantic.creator.PydanticMeta.max_recursion">
             <span class="sig-name descname">
              <span class="pre">
               max_recursion
              </span>
             </span>
             <em class="property">
              <span class="pre">
               :
              </span>
              <span class="pre">
               int
              </span>
             </em>
             <em class="property">
              <span class="pre">
               =
              </span>
              <span class="pre">
               3
              </span>
             </em>
             <a class="headerlink" href="#tortoise.contrib.pydantic.creator.PydanticMeta.max_recursion" title="Permalink to this definition">
              ¶
             </a>
            </dt>
            <dd>
             <p>
              Maximum recursion level allowed
             </p>
            </dd>
           </dl>
           <dl class="py attribute">
            <dt class="sig sig-object py" id="tortoise.contrib.pydantic.creator.PydanticMeta.sort_alphabetically">
             <span class="sig-name descname">
              <span class="pre">
               sort_alphabetically
              </span>
             </span>
             <em class="property">
              <span class="pre">
               :
              </span>
              <span class="pre">
               bool
              </span>
             </em>
             <em class="property">
              <span class="pre">
               =
              </span>
              <span class="pre">
               False
              </span>
             </em>
             <a class="headerlink" href="#tortoise.contrib.pydantic.creator.PydanticMeta.sort_alphabetically" title="Permalink to this definition">
              ¶
             </a>
            </dt>
            <dd>
             <p>
              Sort fields alphabetically.
If not set (or
              <code class="docutils literal notranslate">
               <span class="pre">
                False
               </span>
              </code>
              ) then leave fields in declaration order
             </p>
            </dd>
           </dl>
          </dd>
         </dl>
        </section>
        <section id="module-tortoise.contrib.pydantic.base">
         <span id="model-classes">
         </span>
         <h2 id="module-tortoise.contrib.pydantic.base">
          Model classes
          <a class="headerlink" href="#module-tortoise.contrib.pydantic.base" title="Permalink to this headline">
           ¶
          </a>
         </h2>
         <dl class="py class">
          <dt class="sig sig-object py" id="tortoise.contrib.pydantic.base.PydanticListModel">
           <em class="property">
            <span class="pre">
             class
            </span>
           </em>
           <span class="sig-prename descclassname">
            <span class="pre">
             tortoise.contrib.pydantic.base.
            </span>
           </span>
           <span class="sig-name descname">
            <span class="pre">
             PydanticListModel
            </span>
           </span>
           <span class="sig-paren">
            (
           </span>
           <em class="sig-param">
            <span class="o">
             <span class="pre">
              **
             </span>
            </span>
            <span class="n">
             <span class="pre">
              data
             </span>
            </span>
           </em>
           <span class="sig-paren">
            )
           </span>
           <a class="reference internal" href="../_modules/tortoise/contrib/pydantic/base.html#PydanticListModel">
            <span class="viewcode-link">
             <span class="pre">
              [source]
             </span>
            </span>
           </a>
           <a class="headerlink" href="#tortoise.contrib.pydantic.base.PydanticListModel" title="Permalink to this definition">
            ¶
           </a>
          </dt>
          <dd>
           <p>
            Pydantic BaseModel for List of Tortoise Models
           </p>
           <p>
            This provides an extra method above the usual Pydantic
            <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/models/#model-properties">
             model properties
            </a>
           </p>
           <dl class="py method">
            <dt class="sig sig-object py" id="tortoise.contrib.pydantic.base.PydanticListModel.from_queryset">
             <em class="property">
              <span class="pre">
               async
              </span>
              <span class="pre">
               classmethod
              </span>
             </em>
             <span class="sig-name descname">
              <span class="pre">
               from_queryset
              </span>
             </span>
             <span class="sig-paren">
              (
             </span>
             <em class="sig-param">
              <span class="n">
               <span class="pre">
                queryset
               </span>
              </span>
             </em>
             <span class="sig-paren">
              )
             </span>
             <a class="reference internal" href="../_modules/tortoise/contrib/pydantic/base.html#PydanticListModel.from_queryset">
              <span class="viewcode-link">
               <span class="pre">
                [source]
               </span>
              </span>
             </a>
             <a class="headerlink" href="#tortoise.contrib.pydantic.base.PydanticListModel.from_queryset" title="Permalink to this definition">
              ¶
             </a>
            </dt>
            <dd>
             <p>
              Returns a serializable pydantic model instance that contains a list of models,
from the provided queryset.
             </p>
             <p>
              This will prefetch all the relations automatically.
             </p>
             <dl class="field-list simple">
              <dt class="field-odd">
               Parameters
              </dt>
              <dd class="field-odd">
               <p>
                <strong>
                 queryset
                </strong>
                (
                <a class="reference internal" href="../query.html#tortoise.queryset.QuerySet" title="tortoise.queryset.QuerySet">
                 <em>
                  QuerySet
                 </em>
                </a>
                ) – a queryset on the model this PydanticListModel is based on.
               </p>
              </dd>
              <dt class="field-even">
               Return type
              </dt>
              <dd class="field-even">
               <p>
                <a class="reference internal" href="#tortoise.contrib.pydantic.base.PydanticListModel" title="tortoise.contrib.pydantic.base.PydanticListModel">
                 PydanticListModel
                </a>
               </p>
              </dd>
             </dl>
            </dd>
           </dl>
          </dd>
         </dl>
         <dl class="py class">
          <dt class="sig sig-object py" id="tortoise.contrib.pydantic.base.PydanticModel">
           <em class="property">
            <span class="pre">
             class
            </span>
           </em>
           <span class="sig-prename descclassname">
            <span class="pre">
             tortoise.contrib.pydantic.base.
            </span>
           </span>
           <span class="sig-name descname">
            <span class="pre">
             PydanticModel
            </span>
           </span>
           <span class="sig-paren">
            (
           </span>
           <em class="sig-param">
            <span class="o">
             <span class="pre">
              **
             </span>
            </span>
            <span class="n">
             <span class="pre">
              data
             </span>
            </span>
           </em>
           <span class="sig-paren">
            )
           </span>
           <a class="reference internal" href="../_modules/tortoise/contrib/pydantic/base.html#PydanticModel">
            <span class="viewcode-link">
             <span class="pre">
              [source]
             </span>
            </span>
           </a>
           <a class="headerlink" href="#tortoise.contrib.pydantic.base.PydanticModel" title="Permalink to this definition">
            ¶
           </a>
          </dt>
          <dd>
           <p>
            Pydantic BaseModel for Tortoise objects.
           </p>
           <p>
            This provides an extra method above the usual Pydantic
            <a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/models/#model-properties">
             model properties
            </a>
           </p>
           <dl class="py method">
            <dt class="sig sig-object py" id="tortoise.contrib.pydantic.base.PydanticModel.from_queryset">
             <em class="property">
              <span class="pre">
               async
              </span>
              <span class="pre">
               classmethod
              </span>
             </em>
             <span class="sig-name descname">
              <span class="pre">
               from_queryset
              </span>
             </span>
             <span class="sig-paren">
              (
             </span>
             <em class="sig-param">
              <span class="n">
               <span class="pre">
                queryset
               </span>
              </span>
             </em>
             <span class="sig-paren">
              )
             </span>
             <a class="reference internal" href="../_modules/tortoise/contrib/pydantic/base.html#PydanticModel.from_queryset">
              <span class="viewcode-link">
               <span class="pre">
                [source]
               </span>
              </span>
             </a>
             <a class="headerlink" href="#tortoise.contrib.pydantic.base.PydanticModel.from_queryset" title="Permalink to this definition">
              ¶
             </a>
            </dt>
            <dd>
             <p>
              Returns a serializable pydantic model instance that contains a list of models,
from the provided queryset.
             </p>
             <p>
              This will prefetch all the relations automatically.
             </p>
             <dl class="field-list simple">
              <dt class="field-odd">
               Parameters
              </dt>
              <dd class="field-odd">
               <p>
                <strong>
                 queryset
                </strong>
                (
                <a class="reference internal" href="../query.html#tortoise.queryset.QuerySet" title="tortoise.queryset.QuerySet">
                 <em>
                  QuerySet
                 </em>
                </a>
                ) – a queryset on the model this PydanticModel is based on.
               </p>
              </dd>
              <dt class="field-even">
               Return type
              </dt>
              <dd class="field-even">
               <p>
                List[
                <a class="reference internal" href="#tortoise.contrib.pydantic.base.PydanticModel" title="tortoise.contrib.pydantic.base.PydanticModel">
                 PydanticModel
                </a>
                ]
               </p>
              </dd>
             </dl>
            </dd>
           </dl>
           <dl class="py method">
            <dt class="sig sig-object py" id="tortoise.contrib.pydantic.base.PydanticModel.from_queryset_single">
             <em class="property">
              <span class="pre">
               async
              </span>
              <span class="pre">
               classmethod
              </span>
             </em>
             <span class="sig-name descname">
              <span class="pre">
               from_queryset_single
              </span>
             </span>
             <span class="sig-paren">
              (
             </span>
             <em class="sig-param">
              <span class="n">
               <span class="pre">
                queryset
               </span>
              </span>
             </em>
             <span class="sig-paren">
              )
             </span>
             <a class="reference internal" href="../_modules/tortoise/contrib/pydantic/base.html#PydanticModel.from_queryset_single">
              <span class="viewcode-link">
               <span class="pre">
                [source]
               </span>
              </span>
             </a>
             <a class="headerlink" href="#tortoise.contrib.pydantic.base.PydanticModel.from_queryset_single" title="Permalink to this definition">
              ¶
             </a>
            </dt>
            <dd>
             <p>
              Returns a serializable pydantic model instance for a single model
from the provided queryset.
             </p>
             <p>
              This will prefetch all the relations automatically.
             </p>
             <dl class="field-list simple">
              <dt class="field-odd">
               Parameters
              </dt>
              <dd class="field-odd">
               <p>
                <strong>
                 queryset
                </strong>
                (
                <a class="reference internal" href="../query.html#tortoise.queryset.QuerySetSingle" title="tortoise.queryset.QuerySetSingle">
                 <em>
                  QuerySetSingle
                 </em>
                </a>
                ) – a queryset on the model this PydanticModel is based on.
               </p>
              </dd>
              <dt class="field-even">
               Return type
              </dt>
              <dd class="field-even">
               <p>
                <a class="reference internal" href="#tortoise.contrib.pydantic.base.PydanticModel" title="tortoise.contrib.pydantic.base.PydanticModel">
                 PydanticModel
                </a>
               </p>
              </dd>
             </dl>
            </dd>
           </dl>
           <dl class="py method">
            <dt class="sig sig-object py" id="tortoise.contrib.pydantic.base.PydanticModel.from_tortoise_orm">
             <em class="property">
              <span class="pre">
               async
              </span>
              <span class="pre">
               classmethod
              </span>
             </em>
             <span class="sig-name descname">
              <span class="pre">
               from_tortoise_orm
              </span>
             </span>
             <span class="sig-paren">
              (
             </span>
             <em class="sig-param">
              <span class="n">
               <span class="pre">
                obj
               </span>
              </span>
             </em>
             <span class="sig-paren">
              )
             </span>
             <a class="reference internal" href="../_modules/tortoise/contrib/pydantic/base.html#PydanticModel.from_tortoise_orm">
              <span class="viewcode-link">
               <span class="pre">
                [source]
               </span>
              </span>
             </a>
             <a class="headerlink" href="#tortoise.contrib.pydantic.base.PydanticModel.from_tortoise_orm" title="Permalink to this definition">
              ¶
             </a>
            </dt>
            <dd>
             <p>
              Returns a serializable pydantic model instance built from the provided model instance.
             </p>
             <div class="admonition note">
              <p class="admonition-title">
               Note
              </p>
              <p>
               This will prefetch all the relations automatically. It is probably what you want.
              </p>
              <p>
               If you don’t want this, or require a
               <code class="docutils literal notranslate">
                <span class="pre">
                 sync
                </span>
               </code>
               method, look to using
               <code class="docutils literal notranslate">
                <span class="pre">
                 .from_orm()
                </span>
               </code>
               .
              </p>
              <p>
               In that case you’d have to manage  prefetching yourself,
or exclude relational fields from being part of the model using
               <a class="reference internal" href="#tortoise.contrib.pydantic.creator.PydanticMeta" title="tortoise.contrib.pydantic.creator.PydanticMeta">
                <code class="xref py py-class docutils literal notranslate">
                 <span class="pre">
                  tortoise.contrib.pydantic.creator.PydanticMeta
                 </span>
                </code>
               </a>
               , or you would be
getting
               <code class="docutils literal notranslate">
                <span class="pre">
                 OperationalError
                </span>
               </code>
               exceptions.
              </p>
              <p>
               This is due to how the
               <code class="docutils literal notranslate">
                <span class="pre">
                 asyncio
                </span>
               </code>
               framework forces I/O to happen in explicit
               <code class="docutils literal notranslate">
                <span class="pre">
                 await
                </span>
               </code>
               statements. Hence we can only do lazy-fetching during an awaited method.
              </p>
             </div>
             <dl class="field-list simple">
              <dt class="field-odd">
               Parameters
              </dt>
              <dd class="field-odd">
               <p>
                <strong>
                 obj
                </strong>
                (
                <a class="reference internal" href="../models.html#tortoise.models.Model" title="tortoise.models.Model">
                 <code class="xref py py-class docutils literal notranslate">
                  <span class="pre">
                   Model
                  </span>
                 </code>
                </a>
                ) – The Model instance you want serialized.
               </p>
              </dd>
              <dt class="field-even">
               Return type
              </dt>
              <dd class="field-even">
               <p>
                <a class="reference internal" href="#tortoise.contrib.pydantic.base.PydanticModel" title="tortoise.contrib.pydantic.base.PydanticModel">
                 <code class="xref py py-class docutils literal notranslate">
                  <span class="pre">
                   PydanticModel
                  </span>
                 </code>
                </a>
               </p>
              </dd>
             </dl>
            </dd>
           </dl>
          </dd>
         </dl>
        </section>
       </section>
      </article>
     </div>
    </div>
   </main>
  </div>
  <footer class="md-footer">
   <div class="md-footer-nav">
    <nav class="md-footer-nav__inner md-grid">
     <a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="linters.html" rel="prev" title="Linters">
      <div class="md-flex__cell md-flex__cell--shrink">
       <i class="md-icon md-icon--arrow-back md-footer-nav__button">
       </i>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
       <span class="md-flex__ellipsis">
        <span class="md-footer-nav__direction">
         Previous
        </span>
        Linters
       </span>
      </div>
     </a>
     <a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="unittest.html" rel="next" title="UnitTest support">
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
       <span class="md-flex__ellipsis">
        <span class="md-footer-nav__direction">
         Next
        </span>
        UnitTest support
       </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
       <i class="md-icon md-icon--arrow-forward md-footer-nav__button">
       </i>
      </div>
     </a>
    </nav>
   </div>
   <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
     <div class="md-footer-copyright">
      <div class="md-footer-copyright__highlight">
       © Copyright 2018 - 2021, Andrey Bondar &amp; Nickolas Grigoriadis &amp; long2ice.
      </div>
      Created using
      <a href="http://www.sphinx-doc.org/">
       Sphinx
      </a>
      4.1.1.
             and
      <a href="https://github.com/bashtage/sphinx-material/">
       Material for
              Sphinx
      </a>
     </div>
    </div>
   </div>
  </footer>
  <script src="../_static/javascripts/application.js">
  </script>
  <script>
   app.initialize({version: "1.0.4", url: {base: ".."}})
  </script>
 </body>
</html>